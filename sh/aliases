function is_installed() {
  /usr/bin/which $1 2> /dev/null
}

# Add an "alert" alias for long running commands.  Use like so:
#   sleep 10; alert
alias alert='notify-send --urgency=low --icon "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'

# du
alias du='du --total --human-readable'

# Git
alias gita='git add'
alias gitb='git branch'
alias gitbn='git checkout -b '
alias gitc='git commit --message '
alias gitca='git commit --all --message '
alias gitco='git checkout'
alias gitd='git diff'
alias gitl='git log --max-count 5'
alias gitp='git push'
alias gits='git status'
alias gitsf='git status | rev | cut -d" " -f1 | rev'
alias gitvd='git difftool'

# grep
if [ $(is_installed rg) ]; then
  alias grep='rg'
else
  alias grep='grep --color=auto'
fi

# ls
if [[ "$(uname)" == "Darwin" ]]; then
  alias ls='ls -hG'
  alias ll='ls -lhAG'
  alias lt='ls -t'
else
  alias ls='ls --human-readable --color'
  alias ll='ls --color --human-readable --almost-all -l'
  alias lt='ls --color --human-readable --sort=time'
fi

# NeoVim
if [ $(is_installed nvim) ]; then
  alias vim='nvim'
fi

# Open
if [ ! $(is_installed open) && $(is_installed rifle) ]; then
  alias open='rifle'
fi

# Ranger
alias r='ranger'

# Subversion
alias svna='svn add'
alias svnc='svn commit --message '
alias svnd='svn diff'
alias svnl='svn log --limit 5'
alias svns='svn status'
alias svnsf='svn status | grep --invert-match --regexp="^---" | rev | cut -d" " -f1 | rev'
alias svnu='svn update'
alias svnvd="svn diff --diff-cmd ${VISUAL_DIFF}"
